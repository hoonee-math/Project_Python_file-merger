# 폴더 트리 구조 그래프, 리스트 출력, 파일 병합 프로그램 update 예외 처리 강화

![image](https://github.com/user-attachments/assets/0dc91bc2-e55e-48ef-ada6-2a578582fa51)

## File Manager without CMD
이 프로그램은 CMD나 powershell 와 같은 CLI를 사용하지 않고 트리구조를 출력해 줍니다.

더 나아가 선택된 파일을 합치는 하나의 markdown 파일로 병합해주는 기능을 제공합니다.

 

### 다음과 같은 기능이 업데이트 되었습니다.
### v25.1.1 변경사항
```
  1. 선택한 폴더의 .gitignore 파일의 예외 처리 규칙이 적용됩니다.
  2. .gitignore 규칙이 적용된 파일 확장자가 출력됩니다. (추후 수정 예정, 현재 무조건 예외처리됨.)
  3. 병합에서 제외할 파일/폴더를 추가하지 않아도, [.gitignore 규칙 적용] 체크 박스 선택시 자동 적용됩니다.
```

.gitignore 파일이란 git 을 이용해 버전관리를 할 때 사용되는 예외처리 규칙을 작성하는 파일입니다.

마우스 우클릭 > 새로 만들기를 이용해서 [.gitignore] 라는 파일을 새로 만들어주시면 됩니다.

파일은 메모장으로 열어서 다음과 같은 규칙으로 예외처리할 폴더나 파일을 개행(줄바꿈)을 이용해 작성해 주시면 됩니다.
```
  폴더명/
  폴더명/폴더명/파일명(확장자포함)
  파일명(확장자포함)
```

### v1.0 기본 기능
```
1. 폴더를 선택하면 하위 폴더를 포함하여 모든 파일을 분석하고 포함된 확장자를 나열해 줍니다.
2. 리스트/그래프 형태로 트리 구조를 출력할 수 있습니다,
3. 원하는 확장자를 선택하여 트리 구조를 출력할 수 있습니다.
4. 출력된 리스트의 파일 중에 txt 파일에서 utf-8로 인코딩 가능한 파일을 병합시켜줍니다.
5. 파일 병합을 시도할 때, 제외할 파일 및 폴더를 설정할 수 있습니다.
6. 제외한 파일은 파일 명만 표시됩니다. 제외한 폴더는 파일명도 표시되지 않습니다.
- 제외할 파일/폴더는 직접 입력할 수 있습니다. 파일명은 확장자까지, 폴더 명은 앞에 "/"기호를 포함하면 됩니다.
7. 선택된 확장자의 파일 수를 상태바에서 확인이 가능합니다.
```

## 현재 프로젝트 상태

1. 전반적인 구조
```
- 모듈화된 구조로 리팩토링 완료
  - core/: 핵심 기능 모듈
  - gui/: GUI 관련 모듈
  - utils/: 유틸리티 기능
- 각 컴포넌트 간 책임 분리 개선
```

2. 주요 기능 상태
```
✅ 완료된 기능:
- 파일 병합: 정상 작동
- UI 레이아웃: 크기 및 배치 문제 해결
- .gitignore 토글 기능: 기본 구현 완료
- 파일/폴더 제외 기능: 정상 작동

🔄 개선 필요 기능:
- 파일 확장자 목록 표시: .gitignore 적용시 동작 불완전
- 트리 구조 출력: PowerShell/CMD 명령어 결과 형식 차이
```

3. 현재 문제점
```
a) 파일 확장자 관련:
   - 초기 확장자 목록이 완전하지 않음
   - .gitignore 토글 시 확장자 목록 갱신 로직 불완전
   - FileManager의 analyze_extensions() 메서드의 파일 탐색 로직 개선 필요

b) 컴포넌트 간 상태 공유:
   - FileManager 인스턴스 공유는 개선되었으나, 상태 동기화 여전히 불완전
   - .gitignore 상태 변경 시 일부 컴포넌트만 업데이트됨

c) 명령어 실행:
   - PowerShell과 CMD 출력 형식이 일관되지 않음
   - 커스텀 트리와 시스템 명령어 트리의 출력 스타일 차이
```

4. 개선 필요 사항
```
a) 기능적 개선:
   - FileManager의 파일 시스템 탐색 로직 전면 재검토
   - .gitignore 규칙 처리 로직 정확성 향상
   - 확장자 목록 갱신 메커니즘 개선
   - 트리 출력 형식 통일화

b) 구조적 개선:
   - 상태 관리 메커니즘 도입 고려
   - 이벤트 기반 업데이트 시스템 도입
   - 컴포넌트 간 의존성 관계 재검토

c) UI/UX 개선:
   - 처리 중 로딩 표시 추가
   - 에러 메시지 개선
   - 상태 표시 개선
```

5. 향후 개발 방향
```
단기 목표:
1. FileManager 개선
   - 파일 시스템 탐색 로직 재구현
   - .gitignore 규칙 처리 최적화 ( 파일명 변경 필요 .mergeignore 파일로 추가 )
   - 기본적으로 제외 폴더 선언
   - 캐싱 메커니즘 도입 검토

2. UI 컴포넌트 개선
   - 상태 변경 이벤트 처리 개선
   - 동적 업데이트 메커니즘 구현
   - 사용자 피드백 개선

장기 목표:
1. 성능 최적화
   - 대용량 디렉토리 처리 개선
   - 메모리 사용량 최적화
   - 응답성 향상

2. 기능 확장
   - 다양한 출력 형식 지원
   - 검색 기능 추가
   - 설정 저장/불러오기 기능
```

이러한 분석을 바탕으로 우선순위를 정하여 순차적으로 개선을 진행하는 것이 좋을 것 같습니다.
